# ☁ 클라우드 아키텍처를 만들면서 했던 고민들

## ⚡ VPC를 어떻게 설계해야 할까?

### 고려 사항
1. Develop/Production 구분해야 한다.
2. 규모는 어느정도로 해야할까?
3. 다중 계층 VPC 아키텍처가 필요할까?

### 해결 방안
1. VPC 대역 구분
   - Develop: 198.168.0.0/24
   - Production: 10.0.0.0/24
2. 서브넷 분리, 현재 사용 중인 컨테이너가 2개인 점을 고려했을 때, 현재 프로젝트 수준에서 아무리 확장성을 염두해 둔다고 해도 250개 이상의 호스트가 필요할 것 같지는 않다.
    - CIDR 블록은 /24
3. ㅈ

## ⚡ Subnet 구성을 어떻게 할까?

### 고려 사항
1. ECS 클러스터를 위해 최소 두개의 VPC 서브넷이 필요하다.

### 해결 방안
퍼블릭 서브넷1, 프라이빗 서브넷2개로 운영한다.
퍼블릭 서브넷에는 NAT 게이트웨이를 위치시킨다.
프라이빗 서브넷1은 ~
프라이빗 서브넷2는 DB

## ⚡ AZ는 몇개로 해야할까?
AZ는 많이 사용할수록 좋겠지만, 프로젝트가 지원금이 나오는 것도 아니니 최대한 절약해야 한다.

개발용은 1개, 배포용은 2개를 사용하자.

## 🪐 어떤 AWS 서비스를 선택할까?

### 필요한 기능
1. Computing
2. DB
3. Storage
4. Cache
>**Computing, DB, Storage, Cache**

기존에는 EC2에 Docker를 올려서 사용했지만, ECS를 사용하기로 결정